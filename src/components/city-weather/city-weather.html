<link rel="import" href="../../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../location-inputs/location-inputs.html">

<dom-module id="city-weather">
    <template>
        <style>
            .container {
                width: 500px;
                border: 1px solid #000;
                padding: 15px;
                margin: 10px 0 10px 0;
            }
        </style>

        <iron-ajax id="getCityWeatherData"
                   url="http://api.openweathermap.org/data/2.5/weather"
                   params='[[urlParams]]'
                   handle-as="json"
                   last-response="{{weatherData}}"
                   on-response="handleResponse"
                   debounce-duration="300"
        >
        </iron-ajax>

        <div class="container">
            <h1>Dit is het weer van vandaag in [[city]]</h1>

            <p>Het is op dit moment [[weatherData.main.temp]]&deg; Celsius in [[city]].
                Gedurende de dag zal de temperatuur ergens tussen de [[weatherData.main.temp_min]]&deg;
                Celcius en de [[weatherData.main.temp_max]]&deg; Celcius liggen.
            </p>

            <p>
                De luchtvochtigheid in [[city]] is op dit moment [[weatherData.main.humidity]]%.
            </p>
        </div>
    </template>

    <script src="./city-weather.js"></script>
</dom-module>